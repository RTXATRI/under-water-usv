<?xml version="1.0"?>
<launch>
	<arg name="port" default="/dev/ttyACM0" />
 	<arg name="baud" default="115200" />
 	<arg name="frame_id" default="gps" />
 	<arg name="use_GNSS_time" default="False" />
  	<arg name="time_ref_source" default="gps" />
  	<arg name="useRMC" default="True" />
	<!--node name="auto_pwm" pkg="g_usv" type="g_auto_pwm" --> 
	<!--node name="VI_sensor" pkg="g_usv" type="g_VI_sensor" --> 
	
	<node name="imu" pkg="g_usv" type="g_imu" >
	</node>
	<node name="imu_filter_node" pkg="imu_filter_madgwick" type="imu_filter_node" >
		<param name = "constant_dt"  value ="0.0"/>
		<param name = "use_mag" value ="true"/>
		<param name = "use_magnetic_field_msg"  value ="true"/>	
		<param name = "world_frame"  value ="enu"/>		
	</node>
	<node name="heading_PID" pkg="g_usv" type="heading_PID_GPS" >
		<param name = "K_p"  value ="40.0"/>
		<param name = "K_i"   value ="0.01"/>
		<param name = "K_d"   value ="20.0"/>
		<param name = "K_g"   value ="0.001"/>
		<param name = "Total_thrust" value ="1.6"/>
	</node>
     	<!--guidance  /-->
	<node name="guidance_node" pkg="g_usv" type="g_guidance_node"  output="screen">
		<remap from="/c_heading" to="/control/heading" />
   		<rosparam param="lat">[41.82426,41.82459]</rosparam>
    		<rosparam param="lon">[-71.39406,-71.39398]</rosparam>
	</node>
	<!--gps  /-->
  	<node name="nmea_serial_driver" pkg="nmea_navsat_driver" type="nmea_serial_driver" >
   		<param name="port" value="$(arg port)"/>
    		<param name="baud" value="$(arg baud)" />
    		<param name="frame_id" value="$(arg frame_id)" />
    		<param name="use_GNSS_time" value="$(arg use_GNSS_time)" />
    		<param name="time_ref_source" value="$(arg time_ref_source)" />
		<remap from="/fix" to="/sensor/m_fix" />
    		<param name="useRMC" value="$(arg useRMC)" />
  	</node>
</launch>

